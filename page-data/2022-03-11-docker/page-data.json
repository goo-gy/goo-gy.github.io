{"componentChunkName":"component---node-modules-nehalist-gatsby-theme-nehalem-src-templates-post-tsx","path":"/2022-03-11-docker","result":{"data":{"post":{"id":"0ff7329d-e8ff-5949-a090-451288fa2077","headings":[{"depth":2},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3}],"frontmatter":{"title":"Docker로 MySQL 컨테이너 만들기","path":"/2022-03-11-docker","tags":["project","container","docker"],"excerpt":"야 너두 Docker 할 수 있어","created":"2022-03-11T00:00:00.000Z","createdPretty":"11 March, 2022","updated":"2022-03-14T00:00:00.000Z","updatedPretty":"14 March, 2022","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYElEQVQoz3WSbUhUQRSG3zOzSwSxJEJQkBhCRJQUZAlCPwLD+uPHipiVWFZLmYqS6Wrl2kJJEqUuhFaaN00FSZM0pC+oVJIybZNsLf1lFBaoK5qt7XRurQjtNvBw586c88yZ4QCLI14DnR4AWd+C8l5LHOqAsI9CnB8FnXp1lfIHOzmKsMMO7L8LKhiUSG0HWR6DTj6H36CcPha+AeX2GSjnJZD+YAPl9bcxNWR1zvBBw1JToIxnQUhqXqfH4nAn6PjT/wgzu0FZ3YITgKMPIym7t5VFioqGFBW+Uywe5/V0vsUxrtzFh27j2JWU1RNYCC7d0KUoSHEV+QNPyDaixLkPc6Lko4eKR35RsUvRmfe6uEZUTClhH5tFWsdWPY8PF/4VWp2Sq+FKX5hF+aQyOtw/pcOtUOH2ysppJSqnvcycuDan+F1bEF5gQnQlv/MYjD0qwJWLhoTM5vItj8KlY0ahSi2suDHv2dz0YwHXvR7DTe+8rFVKXPk+i8Q7oTjSpb+5FKXjWK/+FcbVAQfaUM4bEYyxePhepDahDnZMqVWah+UeJavmlbg8Mc032CvKvoAKnUZEOwgJ9X/zdZZahn+SmrA2rVEgplpfMVS19ds/fZ68H9P8rRelX9sNNtdZJDas/tMBURe5dVqXRH7C2Ft6H5JM0HR5KOJvJ2PNpTAE27bw7jJszA3BzrLtiK2Nwr6WIE6O4Pjl/A1jTP7CuDryLYYwaUy6NGuaKaUxisz1F2BuMDO7EKdV814KY2UyfXNDIOEiwYyFSWJOMMlMBpPK7GFKfHMHs5vZ5MsTi8LfKX0Ypm5a4+sAAAAASUVORK5CYII=","aspectRatio":1.7699115044247788,"src":"/static/5261f3cf0631cdcc78a54ee8d13fbb83/542af/Docker-Symbol.png","srcSet":"/static/5261f3cf0631cdcc78a54ee8d13fbb83/dc47e/Docker-Symbol.png 200w,\n/static/5261f3cf0631cdcc78a54ee8d13fbb83/9f2d5/Docker-Symbol.png 400w,\n/static/5261f3cf0631cdcc78a54ee8d13fbb83/542af/Docker-Symbol.png 700w","sizes":"(max-width: 700px) 100vw, 700px"}}}},"html":"<h2 id=\"docker를-사용하는-이유\" style=\"position:relative;\"><a href=\"#docker%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"docker를 사용하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker를 사용하는 이유</h2>\n<p>개발을 시작할 때 팀원들은 나와 다른 운영체제를 사용하고 있을 수 있다. 하지만 여러 하드웨어에서 개발하더라도 개발이 진행되는 OS나 아키텍처를 통일할 필요가 있다. 기존에는 virtual machine을 통해 가상의 환경을 만들고 작업하였지만, 이 가상환경도 구성하는 데 굉장히 오래 걸리고 부하가 크다는 단점이 있다. 하지만 Docker를 사용하면 쉽고 빠르게, 가벼운 가상환경을 구축할 수 있다.</p>\n<hr>\n<h3 id=\"virtual-machine-vs-container\" style=\"position:relative;\"><a href=\"#virtual-machine-vs-container\" aria-label=\"virtual machine vs container permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Virtual Machine vs Container</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0702d16cf871bf8d8e38e080d347fc9/d924d/virtualMachineVsContainer.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAe100dRUV//EABkQAQEBAQEBAAAAAAAAAAAAAAIDAQAREv/aAAgBAQABBQJbvpoiTRbyjP62E/DIHv/EABYRAQEBAAAAAAAAAAAAAAAAABEAIf/aAAgBAwEBPwFwm//EABYRAAMAAAAAAAAAAAAAAAAAAAECEP/aAAgBAgEBPwELP//EABgQAQEBAQEAAAAAAAAAAAAAAAABMiFh/9oACAEBAAY/Aqk8VllyP//EABsQAQADAQADAAAAAAAAAAAAAAEAESExEEFx/9oACAEBAAE/Iepevvw2FpruZHJdOusaL4KNYBVZ9n//2gAMAwEAAgADAAAAEH/P/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQBR/9oACAEDAQE/EGcyy//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAgEBPxAB2wv/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFhcZH/2gAIAQEAAT8QCRirPOOYjhWrktu3m4cABnRjuWLFs3K+yoXFwRet9xeVG0s5+z//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"virtualMachineVsContainer.png\"\n        title=\"virtualMachineVsContainer.png\"\n        src=\"/static/a0702d16cf871bf8d8e38e080d347fc9/e5166/virtualMachineVsContainer.jpg\"\n        srcset=\"/static/a0702d16cf871bf8d8e38e080d347fc9/f93b5/virtualMachineVsContainer.jpg 300w,\n/static/a0702d16cf871bf8d8e38e080d347fc9/b4294/virtualMachineVsContainer.jpg 600w,\n/static/a0702d16cf871bf8d8e38e080d347fc9/e5166/virtualMachineVsContainer.jpg 1200w,\n/static/a0702d16cf871bf8d8e38e080d347fc9/d924d/virtualMachineVsContainer.jpg 1238w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>이미지: <a href=\"https://www.netapp.com/blog/containers-vs-vms/\">https://www.netapp.com/blog/containers-vs-vms/</a></p>\n<p>vmware나 virtual box 등의 Virtual Machine에서는 Hypervisor로 가상의 하드웨어를 생성하고 그 위에 Guest OS를 새로 올린다. 따라서 Hypervisor와 새로운 OS로 인해 굉장히 많은 리소스를 사용하게 된다. 반면 Container 기술은 Container Engine을 이용하여 분리된 Container를 생성하는데 이는 각각의 OS를 새로 올리는 것보다 적은 리소스로 가상화를 수행할 수 있다.</p>\n<h2 id=\"docker\" style=\"position:relative;\"><a href=\"#docker\" aria-label=\"docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker</h2>\n<p>Docker는 가장 대표적인 Container 기술로 Linux, MacOs, Windows 등 다양한 운영체제에서 사용 가능하다. 그리고 Docker에서는 애플리케이션의 의존성 및 파일 시스템까지 함께 패키징하여 빌드, 배포가 가능하다.</p>\n<hr>\n<h3 id=\"docker의-가상화\" style=\"position:relative;\"><a href=\"#docker%EC%9D%98-%EA%B0%80%EC%83%81%ED%99%94\" aria-label=\"docker의 가상화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker의 가상화</h3>\n<p>Docker는 Linux의 각 프로세스에 독립된 File system, Network, User, Host name을 제공하는 name space와 각 프로세스가 소비 가능한 리소스(CPU, Memory, I/O, Network 등)를 제한하는 cgroups 등의 커널 기능을 사용해 가상화한다고 한다. 따라서 윈도우에서 이 기술을 적용하기 위해선 결국 Hypervisor를 사용해야 한다. 때문에 Container가 Virtual machine 보다 가지고 있던 이점을 윈도우에서는 활용하기 어렵다.</p>\n<hr>\n<h3 id=\"docker-life-cycle\" style=\"position:relative;\"><a href=\"#docker-life-cycle\" aria-label=\"docker life cycle permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker Life Cycle</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 773px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8359ffcdef27b105a9339018104be9c6/612f7/docker-lifeCycle.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVQoz22T227TQBCG/Ra8Bi/CMyBxyVtwUa6QkCqkIhFVXBQJkIACygUIrB4CogUpSoQaaFKIU0Jrk/gU78H2rn9213ViVx3LGq935vPMP2trcNTH4cE+wsCHtqIoUFn1XPfmxmpNeYSz8ynCKMAvZwDr44c2tl8+wenktwkSQoBSavxV0BVYxcoMmeCIyBn8xMF4MoS1t/sO7bfP4TgnJjjNcnj/Zspnjaq0EUKQXbzXJqVAQmO0dm7isX0b0+kE1sGXjmq5s2wZVUMGUlZSAWdzHwvCVAcMruuBcY5UXfabdXztvMJwfAwrCEPIVS8lR4F8JpDK8nm5feEpYwjCCCJPoYU52WjBfW9jcKqAOkB/KYoTpKJM2XQyXHvt4UHfNWs/1MJ7psW6SaVhKihoFOoFJn9HJZBSgvl8Dm6AAre6DNazAA975yYxXFCzr0sUBYcXj0B4YPZYGqs8glwyNeUfsOrT08Y5w+dvfdhtG4lqjSQLNb0/KrEcxu5gA2svrmOvt7UcTCFLhtbVapwvWaoZH33H8dodJArOGIWvqksIBU+B7U/3cPfpDfwcH66ARQV0S+Dl45HnOVKla0MvdS692QzDXhfd9fuIo4UZUj2vAbz8dzQqryVRz8Oo9QhcVY4rgP8BQtBC9SIcORAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker-life-cycle\"\n        title=\"docker-life-cycle\"\n        src=\"/static/8359ffcdef27b105a9339018104be9c6/612f7/docker-lifeCycle.png\"\n        srcset=\"/static/8359ffcdef27b105a9339018104be9c6/5a46d/docker-lifeCycle.png 300w,\n/static/8359ffcdef27b105a9339018104be9c6/0a47e/docker-lifeCycle.png 600w,\n/static/8359ffcdef27b105a9339018104be9c6/612f7/docker-lifeCycle.png 773w\"\n        sizes=\"(max-width: 773px) 100vw, 773px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>이미지: <a href=\"https://blog.naver.com/isc0304/222337021799\">https://blog.naver.com/isc0304/222337021799</a></p>\n<p>Docker는 배포, 운영할 수 있는 Life Cycle이 존재하는데, 크게 <strong>Registry, Image, Container</strong>로 구분할 수 있다. Registry와 Image는 Github의 (Remote / Local) Repository와 유사하다고 볼 수 있다. Docker Hub라는 Registy에서 Docker Image를 받고 이 Image를 통해서 Container를 생성할 수 있다.</p>\n<ul>\n<li><strong>pull</strong><br>\nregistry에서 image를 다운로드</li>\n<li><strong>push</strong><br>\nimage를 registry에 올림</li>\n<li><strong>create</strong><br>\nimage를 가지고 container를 생성</li>\n<li><strong>commit</strong><br>\n사용하고 있는 container를 Image 화</li>\n<li><strong>start</strong><br>\ncontainer를 실행해서 memory에 올림</li>\n<li><strong>stop</strong><br>\ncontainer를 종료해서 memory에서 내림</li>\n<li><strong>rm</strong><br>\ncontainer 삭제</li>\n<li><strong>rmi</strong><br>\nimage 삭제</li>\n<li><strong>run</strong><br>\npull + create + start를 한 번에 실행</li>\n</ul>\n<h2 id=\"docker-시작하기\" style=\"position:relative;\"><a href=\"#docker-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\"docker 시작하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker 시작하기</h2>\n<p>그럼 이제 Docker Life Cycle을 기억하면서 직접 Mysql Image를 통해 Container를 생성하고 메모리에 올려보자.</p>\n<hr>\n<h3 id=\"설치\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98\" aria-label=\"설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치</h3>\n<ul>\n<li>윈도우 &#x26; MAC<br>\n<a href=\"https://www.docker.com/products/docker-desktop\">https://www.docker.com/products/docker-desktop</a><br>\n위 링크에서 Docker를 설치한다.</li>\n<li>\n<p>리눅스</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">apt</span> <span class=\"token function\">install</span> docker.io</code></pre></div>\n<p>ubuntu의 경우 apt를 통해 설치할 수 있다.</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker -v</code></pre></div>\n<p>설치가 되었다면 위 명령어로 확인해 보자.</p>\n<hr>\n<h3 id=\"image-찾기\" style=\"position:relative;\"><a href=\"#image-%EC%B0%BE%EA%B8%B0\" aria-label=\"image 찾기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>image 찾기</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker search mysql</code></pre></div>\n<p>docker search 명령어를 통해서 image를 검색할 수 있다.</p>\n<p>또는 <a href=\"https://hub.docker.com/\">https://hub.docker.com/</a>에 접속하여 찾아보는 방법도 있다.</p>\n<hr>\n<h3 id=\"image-pull\" style=\"position:relative;\"><a href=\"#image-pull\" aria-label=\"image pull permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>image pull</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker pull mysql:8.0</code></pre></div>\n<p>registry에 있는 docker image를 local에 다운로드한다.<br>\n: 뒤 숫자는 tag로, 생략할 경우 기본 값으로 latest가 들어간다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker images</code></pre></div>\n<p>images 명령어를 통해 local에 다운로드 한 docker image를 확인할 수 있다.</p>\n<hr>\n<h3 id=\"container-생성\" style=\"position:relative;\"><a href=\"#container-%EC%83%9D%EC%84%B1\" aria-label=\"container 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>container 생성</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker create --name mysqlContainer -p <span class=\"token number\">3306</span>:3306 -e <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span>qwer1234 mysql</code></pre></div>\n<p>docker image를 가지고 container를 생성한다. docker가 어렵게 느껴진다면 다양한 옵션들 때문일 것이다. 하나씩 차근차근 알아보자.</p>\n<ul>\n<li><strong>--name</strong><br>\n생성될 container의 이름을 지정한다.</li>\n<li><strong>-p</strong><br>\n포트포워딩 정보를 입력한다. [out-port]:[in-port]로 적용된다.</li>\n<li><strong>-e</strong><br>\n환경변수를 지정한다. 위 예시의 경우 mysql password를 환경변수를 통해 넘겨주었다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker <span class=\"token function\">ps</span> -a</code></pre></div>\n<p>컨테이너를 생성했다면 ps 명령어로 컨테이너를 확인할 수 있다. 여기서 -a 옵션을 줘야 실행 중이지 않은 container까지 확인할 수 있다.</p>\n<hr>\n<h3 id=\"container-실행\" style=\"position:relative;\"><a href=\"#container-%EC%8B%A4%ED%96%89\" aria-label=\"container 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>container 실행</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker start mysqlContainer</code></pre></div>\n<p>생성된 container를 실행하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker <span class=\"token function\">ps</span></code></pre></div>\n<p>ps 명령어로 실행된 container를 확인해 보자.</p>\n<hr>\n<h3 id=\"container-접속\" style=\"position:relative;\"><a href=\"#container-%EC%A0%91%EC%86%8D\" aria-label=\"container 접속 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>container 접속</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker <span class=\"token builtin class-name\">exec</span> -it mysqlContainer /bin/bash</code></pre></div>\n<p>exec 명령어를 이용하면 docker container 내부에서 명령어를 실행할 수 있다. 예제에서는 docker exec를 통해 container 내부에서 /bin/bash 명령어를 수행하였다. 하지만 -it를 옵션을 주지 않으면 bash 쉘이 실행되었다가 종료된다. -it 옵션은 해당 프로그램에서 상호 입출력이 가능하게 한다.</p>\n<hr>\n<h3 id=\"run으로-한-번에-수행하기\" style=\"position:relative;\"><a href=\"#run%EC%9C%BC%EB%A1%9C-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%88%98%ED%96%89%ED%95%98%EA%B8%B0\" aria-label=\"run으로 한 번에 수행하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>run으로 한 번에 수행하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker run --name <span class=\"token punctuation\">[</span>container name<span class=\"token punctuation\">]</span> -p <span class=\"token number\">3306</span>:3306 -e <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>password<span class=\"token punctuation\">]</span> -d mysql</code></pre></div>\n<p>docker run 명령어를 이용하면 pull, create, run 명령어를 한 번에 실행할 수 있다. 이미 pull 받은 image라면 pull은 생략되지만, container가 중복되더라도 그대로 실행되니 한 번 run으로 만든 container는 start를 이용해서 실행하도록 하자.</p>\n<ul>\n<li><strong>-d</strong><br>\n이 옵션을 주면 backgroud process로 실행할 수 있다.</li>\n</ul>"},"primaryTag":{"name":"project","color":"#007acc"}},"pageContext":{"postId":"0ff7329d-e8ff-5949-a090-451288fa2077","primaryTag":"project"}},"staticQueryHashes":["1116962356","1994268275","2206391224","2275848304","545095672"]}