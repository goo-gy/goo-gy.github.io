{"componentChunkName":"component---node-modules-nehalist-gatsby-theme-nehalem-src-templates-post-tsx","path":"/2019-10-02-selenium","result":{"data":{"post":{"id":"b25269ec-e011-57a9-8a72-9ede10185237","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":2}],"frontmatter":{"title":"셀레니움(Selenium)을 이용한 크롤링 [Python]","path":"/2019-10-02-selenium","tags":["project","crawling"],"excerpt":"크롤러에서 자바스크립트(JavaScipt)를 실행하고 싶은데..","created":"2019-10-02T00:00:00.000Z","createdPretty":"02 October, 2019","updated":"2019-10-08T00:00:00.000Z","updatedPretty":"08 October, 2019","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVQoz3WS30tTYRzGn7ONutAbQ8so7CKSECI54Q+SIvoLuvMyrwoLlN0ElSAKiYJibeAPNqEbEVSCbsySGVJGIOYwdcxfaMba/DGhjnM7m9+n993yIqIXHh44HD7v8/2+D8rHiatKV94QNwLErUmi8h1xf4Zo/EI4e8qAF8iK/gBsz3NIVxc4OQkuLYGBAMTrhfT2ggMD6idSSbQbyp052Q5cIxw/igzswIkIHGgGbndfNPhoDkdPn+RxdNSUqSmTIyMmW1ry2dYGdnYeAzXsGKxlA9cVMF4MWCrdnpJXqQqYmXkFfl24K7u75Opqgnt75OJiPZeXdWIXPu7QMRUjAlGp2ToQfzwlvtl4pkHx4YqVlCGOWpWyAh6cKugvMBX2pB1aeMDDQ0riIMVkkgrm5vo6uLbmwuovuiIJYsOiO5IQblrC78l0UAONqPMl9kHEsFH9DCWV3ZfO4A4Kg9PDzcwIhUzStslQqJErK1CJc8B1iwj/pNtKC+0j4dYfoGNfAdOgM45vm2dRTlwu1J85/alBNEgDU6m/gdNq5A/bxPuY1GxY4o8d0je7n2lU24UrcqHM2DZqVcIqBTqROne6VK00X4LBh0yndcKUdobDbjVubuT/PsqgepRoMYxdtbUdjQdEiUNDkLm5OloWJZNJaOf8fH22QqGQ67gy/9bmsQJGigxjW9UmqsbUsNLS3MVNTXkcHDQ5PGyK9tbWfLa3gx0dgPmWWZWPC25miy2oniDqPhP3VLnPv9ao3GF/P9jXB3o84NgYODGR854e0OeD+P34DfNV0WCyMggvAAAAAElFTkSuQmCC","aspectRatio":2,"src":"/static/9123c8781b453b4fa183c90183bd2a4b/90823/selenium_selenium_communication.png","srcSet":"/static/9123c8781b453b4fa183c90183bd2a4b/dc47e/selenium_selenium_communication.png 200w,\n/static/9123c8781b453b4fa183c90183bd2a4b/9f2d5/selenium_selenium_communication.png 400w,\n/static/9123c8781b453b4fa183c90183bd2a4b/90823/selenium_selenium_communication.png 800w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"javascript-처리\" style=\"position:relative;\"><a href=\"#javascript-%EC%B2%98%EB%A6%AC\" aria-label=\"javascript 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ JavaScript 처리 ]</h2>\n<p>  웹 페이지 중에는 <strong>JavaScript</strong>를 실행해야 가져올 수 있는 데이터가 있으며 그중에서도 <strong>비동기적으로 처리</strong>되어 나중에 불러지는 데이터도 있습니다. 크롤러에서 JavaScript를 해석하고 로딩에 시간차가 생기는 데이터를 처리하는 것은 까다롭습니다. 하지만 크롬 등의 <strong>브라우저</strong>에는 이들을 처리하는 기능들이 내장되어 있어 사용자가 쉽게 이용할 수 있습니다. <strong>Selenium</strong>은 브라우저를 이용한 웹 진단 프레임워크입니다. 우리는 Selenium으로 브라우저의 기능을 활용하여 복잡한 처리를 거치는 데이터를 쉽게 가져올 수 있습니다.  </p>\n<h2 id=\"selenium의-동작원리\" style=\"position:relative;\"><a href=\"#selenium%EC%9D%98-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC\" aria-label=\"selenium의 동작원리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ Selenium의 동작원리 ]</h2>\n<p>  <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9123c8781b453b4fa183c90183bd2a4b/5a190/selenium_selenium_communication.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVQoz3WS30tTYRzGn7ONutAbQ8so7CKSECI54Q+SIvoLuvMyrwoLlN0ElSAKiYJibeAPNqEbEVSCbsySGVJGIOYwdcxfaMba/DGhjnM7m9+n993yIqIXHh44HD7v8/2+D8rHiatKV94QNwLErUmi8h1xf4Zo/EI4e8qAF8iK/gBsz3NIVxc4OQkuLYGBAMTrhfT2ggMD6idSSbQbyp052Q5cIxw/igzswIkIHGgGbndfNPhoDkdPn+RxdNSUqSmTIyMmW1ry2dYGdnYeAzXsGKxlA9cVMF4MWCrdnpJXqQqYmXkFfl24K7u75Opqgnt75OJiPZeXdWIXPu7QMRUjAlGp2ToQfzwlvtl4pkHx4YqVlCGOWpWyAh6cKugvMBX2pB1aeMDDQ0riIMVkkgrm5vo6uLbmwuovuiIJYsOiO5IQblrC78l0UAONqPMl9kHEsFH9DCWV3ZfO4A4Kg9PDzcwIhUzStslQqJErK1CJc8B1iwj/pNtKC+0j4dYfoGNfAdOgM45vm2dRTlwu1J85/alBNEgDU6m/gdNq5A/bxPuY1GxY4o8d0je7n2lU24UrcqHM2DZqVcIqBTqROne6VK00X4LBh0yndcKUdobDbjVubuT/PsqgepRoMYxdtbUdjQdEiUNDkLm5OloWJZNJaOf8fH22QqGQ67gy/9bmsQJGigxjW9UmqsbUsNLS3MVNTXkcHDQ5PGyK9tbWfLa3gx0dgPmWWZWPC25miy2oniDqPhP3VLnPv9ao3GF/P9jXB3o84NgYODGR854e0OeD+P34DfNV0WCyMggvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"selenium selenium communication\"\n        title=\"selenium selenium communication\"\n        src=\"/static/9123c8781b453b4fa183c90183bd2a4b/5a190/selenium_selenium_communication.png\"\n        srcset=\"/static/9123c8781b453b4fa183c90183bd2a4b/5a46d/selenium_selenium_communication.png 300w,\n/static/9123c8781b453b4fa183c90183bd2a4b/0a47e/selenium_selenium_communication.png 600w,\n/static/9123c8781b453b4fa183c90183bd2a4b/5a190/selenium_selenium_communication.png 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\n이전 포스터에서의 로봇이 브라우저의 역할을 대신했다면 여기 Selenium은 브라우저를 조종하는 로봇이라고 할 수 있습니다. 사용자 대신 브라우저에게 명령을 하여 처리한 데이터를 가져올 수 있습니다.  </p>\n<h2 id=\"selenium-시작하기\" style=\"position:relative;\"><a href=\"#selenium-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\"selenium 시작하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ Selenium 시작하기 ]</h2>\n<p>  selenium에서는 크롬(Chrome), 파이어폭스(FireFox), PhantomJS 등 여러 가지 브라우저를 이용할 수 있지만 여기서는 <strong>크롬(Chrome)</strong>을 이용하도록 하겠습니다.    </p>\n<ul>\n<li>\n<p><strong>Selenium 설치하기</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt; pip install selenium</code></pre></div>\n<p><em>※ PATH에 pip 경로가 등록되어있지 않다면 python 경로 아래 scripts에서 실행해야합니다.</em>  </p>\n</li>\n<li><strong>크롬 설치</strong><br>\n<strong>Chrome 설치:</strong> <a href=\"https://www.google.com/chrome/\">https://www.google.com/chrome</a>  </li>\n<li><strong>Chrome Driver</strong><br>\nSelnium에서 Chrome을 이용하기 위해서는 현재 크롬 버전에 맞는 Chrome Diver를 설치해야 합니다.<br>\n<strong>Chrome Driver 설치:</strong> <a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\">https://sites.google.com/a/chromium.org/chromedriver/downloads</a>  </li>\n</ul>\n<h2 id=\"selenium-사용법\" style=\"position:relative;\"><a href=\"#selenium-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"selenium 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ Selenium 사용법 ]</h2>\n<h3 id=\"driver-생성\" style=\"position:relative;\"><a href=\"#driver-%EC%83%9D%EC%84%B1\" aria-label=\"driver 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;Driver 생성></h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>\n<p><strong>옵션 넣기</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">options <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>ChromeOptions<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\noptions<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'lang=ko_KR'</span><span class=\"token punctuation\">)</span>\noptions<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'user-agent=googy bot'</span><span class=\"token punctuation\">)</span>\ndriver <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span>chrome_options<span class=\"token operator\">=</span>options<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"element-찾기\" style=\"position:relative;\"><a href=\"#element-%EC%B0%BE%EA%B8%B0\" aria-label=\"element 찾기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;Element 찾기></h3>\n<ul>\n<li><strong>find<em>element</em>by<em>tag</em>name( ‘tag 명’ )</strong>  </li>\n<li><strong>find<em>element</em>by_id( ‘id 명’ )</strong>  </li>\n<li><strong>find<em>element</em>by<em>class</em>name( ‘class 명’ )</strong>  </li>\n<li>\n<p><strong>find<em>element</em>by_xpath( ‘옵션’ )</strong><br>\n<strong>XPath(XML Path Language)</strong>는 마크업 언어 구조의 문서에서 지정한 구문을 사용하여 경로를 나타내고 처리하는 언어입니다. 이를 이용하면 HTML에서 원하는 요소(Element)를 쉽게 얻을 수 있습니다.  </p>\n<ul>\n<li>\n<p><strong>기본적인 단어는 tag를 지정합니다.</strong><br>\nTag가 p인 요소</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//p'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>[] : 술부(Predicates)로 추가적인 조건을 명시하여 특정 요소를 찾을 수 있습니다.</strong>  </p>\n<ul>\n<li>\n<p><strong>@ : 속성을 지정할 때 표시합니다.</strong><br>\nTag가 div이면서 id 속성을 가진 요소  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id]'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Tag가 div이면서 id 속성 값이 \"header\"인 요소  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"header\"]'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>/ : 경로 구분을 위해 나타냅니다.</strong> (맨 앞에 오면 최상위 노드에서 시작합니다.)<br>\nid가 header인 div 요소 > ul 요소 > li 요소</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"header\"]/ul/li'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>// : 해당 경로 하위 노드 전체에서 검색합니다.</strong> (마찬가지로, 맨 앞에 오면 최상위 노드에서 시작합니다.)<br>\nid가 header인 div 요소 내부에서 li 요소 검색</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"header\"]//li'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>* : 모든(불특정)</strong><br>\nid 값이 \"header\"인 모든 엘리먼트</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//*[@id=\"header\"]//li'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>div 태그 중 어떤 속성값이라도 가지는 엘리먼트</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@*]'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>div 태그 중 어떤 속성값이라도 \"header\" 값을 가지는 엘리먼트</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">driver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@*=\"header\"]//li'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<p>  element에 s를 붙이면 조건을 만족하는 모든 요소를 가져와 리스트처럼 사용할 수 있습니다.  </p>\n<ul>\n<li><strong>find<em>elements</em>by<em>tag</em>name( ‘tag 명’ )</strong>  </li>\n<li><strong>find<em>elements</em>by_id( ‘id 명’ )</strong>  </li>\n<li><strong>find<em>elements</em>by<em>class</em>name( ‘class 명’ )</strong>  </li>\n<li><strong>find<em>elements</em>by_xpath( ‘옵션’ )</strong>  </li>\n</ul>\n<h3 id=\"data-입력하기\" style=\"position:relative;\"><a href=\"#data-%EC%9E%85%EB%A0%A5%ED%95%98%EA%B8%B0\" aria-label=\"data 입력하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;Data 입력하기></h3>\n<ul>\n<li><strong>send_keys( str )</strong><br>\nElement에 문자열을 입력합니다. 물론 input, textarea 등 입력이 가능한 Element 이어야 합니다.  </li>\n<li><strong>click()</strong><br>\nElement에 클릭합니다. button, submit, link 등 클릭이 가능한 Element 이어야 합니다.  </li>\n</ul>\n<h3 id=\"로딩-기다리기\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%94%A9-%EA%B8%B0%EB%8B%A4%EB%A6%AC%EA%B8%B0\" aria-label=\"로딩 기다리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;로딩 기다리기></h3>\n<p>  브라우저에 특정 페이지에 접속하라고 명령을 해두어도 비동기 처리 혹은 네트워크 상황에 따라 문서(DOCUMENT)에서 내가 찾는 Element가 로딩되지 않았을 수도 있습니다.\n로딩이 끝나지 않은 문서에서 Element를 찾거나 입력을 준다면 오류가 발생할 수 있습니다.\n이를 방지하기 위해서 Selenium에서는 브라우저에게 특정 Element가 존재할 때까지 기다리라고 명령할 수 있습니다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions\n\nDELAY <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\nurl <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.kaggle.com/\"</span>\ndriver <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>presence_of_all_elements_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//a[@id=\"sign-in-button\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//a[@id=\"sign-in-button\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>  [<a href=\"https://seleniumhq.github.io/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.expected_conditions.html\">selenium expected_conditions</a>] 내 여러 함수를 이용해 특정 조건을 지정하고 WebDriverWait()에서 Delay를 줄 수 있습니다.  </p>\n<h3 id=\"other-tips\" style=\"position:relative;\"><a href=\"#other-tips\" aria-label=\"other tips permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;Other Tips></h3>\n<ul>\n<li>\n<p><strong>Alert() 처리하기</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">WebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>alert_is_present<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ncheck_alert <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">.</span>Alert<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">)</span>\ncheck_alert<span class=\"token punctuation\">.</span>accept<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>새 윈도우로 전환하기</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">window_before <span class=\"token operator\">=</span> driver<span class=\"token punctuation\">.</span>window_handles\n<span class=\"token comment\"># 여기에 새 윈도우 창을 띄우는 작업</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>new_window_is_opened<span class=\"token punctuation\">(</span>window_before<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>switch_to<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">.</span>window_handles<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"-예제-kaggle-로그인하기-\" style=\"position:relative;\"><a href=\"#-%EC%98%88%EC%A0%9C-kaggle-%EB%A1%9C%EA%B7%B8%EC%9D%B8%ED%95%98%EA%B8%B0-\" aria-label=\" 예제 kaggle 로그인하기  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ 예제: Kaggle 로그인하기 ]</h2>\n<p>  Kaggle에서는 Google, Facebook 등의 SSO 인증을 지원합니다. Selenium을 이용하면 구글의 복잡한 로그인 처리, SSO 인증을 간편하게 수행할 수 있습니다.  </p>\n<p>  &#x3C;<strong>Settings</strong>>  </p>\n<ul>\n<li><strong>Python</strong><br>\n2.7.16  </li>\n<li><strong>Selenium</strong><br>\n3.141.0</li>\n<li><strong>Chrome</strong><br>\n77.0.3865.75 (공식 빌드)  </li>\n<li><strong>Chrome-Drvier</strong><br>\n77.0.3865.40  </li>\n</ul>\n<p>  먼저 Kaggle에 접속해 우리가 자동으로 수행할 부분을 찾아줍니다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1048px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c332588dc75da221d1a9a9b68a5efc3e/2e694/selenium_get_xpath_with_chrome.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACZUlEQVQoz21S604TQRTedxBqQROioIkX4u0FjQoWSL0QLCBFHwLjA5hA+OMlIMXCUrbb2S3dy+xlLjt7m/VsC/hDvpzMzk7Od873nRll+t7sw8fP7s8+efDo6fTM3bHK5LXxCYixysT49cnxCuyroxirVOGkUr1Rnbw5dfvO1K0ZZXmlsdH89HFjs9H8/Pz9+nJjfWV17cPq+kpjbenNu/mFpRdztbnXC6/may/narXFem2pXn+73NxsLizWFR5FxRBZUbDiKshCiqzIktG+XPLy4ziOEgRBycyyPM/h+BJpmrIojlMZ59K2KdItvc8NS6BBBIGJ7KK+Qggpi0n5r9PwR8pc90TbzU88+Rsx1fA7ptsdEAOL76f0J8q39zoKoRRkmAbp6cQ0KKycxUkSQ/M4SYcCCz8UGDMf24yRNEkwpnDc7w8UxigTydbO8ZcddWv7+Otu59u+ziIBrSFvpCUIU6MfYs8PQkooxx6Josg0TYVSCoa1XlfTTjStg1D37MwEw8AJITUgNCCmObAs4PqMcVDEOSeEGoahUEJyEMYizhmUjYU4ty2l7frAjYYQQmDXZYyNyJQSTdPKgYEBj1A/KJHAgIeTBzINw8DzGOdJkoA6dwi4rVK5H+o9dD7tPMt5xCmPRJpfDpw7jt1qIYQoZXEcQyboEiJCWrvz59fR4cEFWUqonWY5xEgzkJnnUVV1ej0QBSTQBZ0954ygfd77oR/tXdzzFe+q4Bjzdts+PXVcN0tT8AJtiYvTOAF5htlXLNuGqvw/gFUHIXx4qKtqV9dty/I8z7Ed/eDAbLWwrneO1b9kVdNJZTXUdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"selenium get xpath with chrome\"\n        title=\"selenium get xpath with chrome\"\n        src=\"/static/c332588dc75da221d1a9a9b68a5efc3e/2e694/selenium_get_xpath_with_chrome.png\"\n        srcset=\"/static/c332588dc75da221d1a9a9b68a5efc3e/5a46d/selenium_get_xpath_with_chrome.png 300w,\n/static/c332588dc75da221d1a9a9b68a5efc3e/0a47e/selenium_get_xpath_with_chrome.png 600w,\n/static/c332588dc75da221d1a9a9b68a5efc3e/2e694/selenium_get_xpath_with_chrome.png 1048w\"\n        sizes=\"(max-width: 1048px) 100vw, 1048px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\nChrome 개발자 도구에서 원하는 Element 우클릭 > Copy > Copy XPath를 사용하면 XPath를 얻을 수 있습니다. ( 다만, 저는 한 번 만든 프로그램은 오래 사용하길 원하기 때문에 페이지의 변경 가능성을 고려하여 XPath를 직접 작성하는 것을 선호합니다. )</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>by <span class=\"token keyword\">import</span> By\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>ui <span class=\"token keyword\">import</span> WebDriverWait\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>webdriver<span class=\"token punctuation\">.</span>support <span class=\"token keyword\">import</span> expected_conditions\n<span class=\"token keyword\">import</span> getpass\n\nDELAY <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\nurl <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.kaggle.com/\"</span>\nGOOGLE_ID <span class=\"token operator\">=</span> <span class=\"token builtin\">raw_input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Google ID:\"</span><span class=\"token punctuation\">)</span>\nGOOGLE_PW <span class=\"token operator\">=</span> getpass<span class=\"token punctuation\">.</span>getpass<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\ndriver <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Chrome<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 로그인 > 구글 로그인</span>\ndriver<span class=\"token punctuation\">.</span>maximize_window<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># Kaggle에서 로그인 클릭을 위해 창 크기를 늘립니다.</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//a[@id=\"sign-in-button\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//a[@id=\"sign-in-button\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'/html/body/main/div/div/div/div/div/div/form/div[2]/div/div[1]/a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'/html/body/main/div/div/div/div/div/div/form/div[2]/div/div[1]/a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Google ID 입력</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>visibility_of_all_elements_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//input[@id=\"identifierId\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//input[@id=\"identifierId\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>GOOGLE_ID<span class=\"token punctuation\">)</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//div[@id=\"identifierNext\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"identifierNext\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Google Password 입력</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>visibility_of_all_elements_located<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//div[@id=\"password\"]//input[@name=\"password\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"password\"]//input[@name=\"password\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>send_keys<span class=\"token punctuation\">(</span>GOOGLE_PW<span class=\"token punctuation\">)</span>\nWebDriverWait<span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> DELAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">(</span>expected_conditions<span class=\"token punctuation\">.</span>element_to_be_clickable<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span>XPATH<span class=\"token punctuation\">,</span> <span class=\"token string\">'//div[@id=\"passwordNext\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndriver<span class=\"token punctuation\">.</span>find_element_by_xpath<span class=\"token punctuation\">(</span><span class=\"token string\">'//div[@id=\"passwordNext\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>"},"primaryTag":{"name":"project","color":"#007acc"}},"pageContext":{"postId":"b25269ec-e011-57a9-8a72-9ede10185237","primaryTag":"project"}},"staticQueryHashes":["1116962356","1994268275","2206391224","2275848304","545095672"]}