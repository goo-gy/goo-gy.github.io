{"componentChunkName":"component---node-modules-nehalist-gatsby-theme-nehalem-src-templates-post-tsx","path":"/2019-12-09-memoization","result":{"data":{"post":{"id":"ffd29489-bff9-5cbc-a4a0-c97958734ed1","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2}],"frontmatter":{"title":"메모이제이션 (Memoization)","path":"/2019-12-09-memoization","tags":["algorithm","memoization","DP"],"excerpt":"동적계획법?","created":"2019-12-09T00:00:00.000Z","createdPretty":"09 December, 2019","updated":"2020-01-09T00:00:00.000Z","updatedPretty":"09 January, 2020","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVQoz1WSfywUYBjHH0eFc+cIHedX1vzKZOq4GndMEVesOcT94DjcQjIXll+ROo65rju0FlfNMv1ZM5o2ao31R2yGVUu1Vram1llxdxxP713L9G6f9/3u+eP7vM8PgF1HqNnYQXRr8y87MbNV78nXGAEQwSjOh2wdQlfLK3hT2gTz8lZ4XtkDsCkUwnjV3f/MdhueVFogvs0CfNUmi9NqYWd1mz2K2pYBkz1BQAz7GifgQ3EdrEjL4G1pA0nGJuSdh6/SSkjXICxJFSBTG+yEGgs1T2uk5+rW3AgModZEF2vMrsSEVtJtcLt3ZcTnsWLQb7Raz5y5oNyL2anwRVZtNcuCbWK4LL0IKb0Il5sXIFm1zYy/vsHNVaFn3KNxCFgUQerDOahoNwHMI/wSF7qjC9indW758lsMCRMVWhYygII80jdMKYcfUonj93w54+mlHh9d4+TBgpsGd1EnuvAHX3vGjOkDA2fl7nFTRQ6LbU6wli+mfZJWO1EfoKNQbWKm9aF7ntrMelGu8cbMWIDtLLkz8hKpoEBIvIZHi65+ZGMMOA0nIMkG9OO9706w709FEe2ClDjAnCwaRgAkKLeOJSktQV5KhGglhlbVzUahkOsA6zK+GyzJPEJG+iNiJlXMIz3oWlPzPqjrdo6X17N+lrgOfXIU6BP0spZFTCnIl9Hk9QtMngZZZzpMAZwOpCoa5gAFyXTSCgp0P6F4h49M+PHbkMNaPcwIHdceOFuPEQNNKl/fUX1kkmo1OE77OTJ4VBc+7IjwW6q2r6+djs1t/RbCbcew0zdMLBRluv6UFDtbZwHyoYJwTgP6i5rRn6daOQRIoZNiKZghcCY/spZNI/zTgNxm2x7iuWgqZoS6oIBLM4ok+9ZFEttwQThcFiC40xMbNTQd5Dk6ENasL9mP6YWMU2NVdgxbG23XDniyBpBJ3iiA6roZO2vYKBITJGRjsuEP/lBNf/dxPBcAAAAASUVORK5CYII=","aspectRatio":1.941747572815534,"src":"/static/3ae1899bede6eb025d830009659cf7b8/9f8d2/memoization_fibonacci_overlap.png","srcSet":"/static/3ae1899bede6eb025d830009659cf7b8/dc47e/memoization_fibonacci_overlap.png 200w,\n/static/3ae1899bede6eb025d830009659cf7b8/9f2d5/memoization_fibonacci_overlap.png 400w,\n/static/3ae1899bede6eb025d830009659cf7b8/9f8d2/memoization_fibonacci_overlap.png 640w","sizes":"(max-width: 640px) 100vw, 640px"}}}},"html":"<h2 id=\"-메모이제이션-동적계획법-\" style=\"position:relative;\"><a href=\"#-%EB%A9%94%EB%AA%A8%EC%9D%B4%EC%A0%9C%EC%9D%B4%EC%85%98-%EB%8F%99%EC%A0%81%EA%B3%84%ED%9A%8D%EB%B2%95-\" aria-label=\" 메모이제이션 동적계획법  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ 메모이제이션? 동적계획법? ]</h2>\n<p>  <strong>메모이제이션(Memoization)</strong>은 <strong>동적계획법(Dynamic Programming)</strong>의 핵심으로 특정 입력에 대한 함수의 결과 값을 저장하고 같은 입력이 주어질 때 저장된 값을 불러오면서, 같은 계산이 여러 번 수행되는 것을 막아 효율을 높이는 기법입니다.  </p>\n<p>  <em>동적계획법을 주제로 글을 쓸까 생각했었지만, 필자가 소개하려는 내용보다 좀 더 큰 범위를 가지고 있겠다 생각하여 더 직관적인 메모이제이션만 다루려고 합니다.</em></p>\n<h2 id=\"-필요성-\" style=\"position:relative;\"><a href=\"#-%ED%95%84%EC%9A%94%EC%84%B1-\" aria-label=\" 필요성  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ 필요성 ]</h2>\n<p>  메모이제이션은 어떤 문제를 계산하기 위해 <strong>부분 문제가 여러 번 중복으로 수행</strong>되는 경우에 유용하게 사용할 수 있습니다. 우리는 이 부분 문제를 매번 계산하여 결과를 얻는 대신 한 번 계산한 값을 <strong>메모리에 저장</strong>하고 같은 입력이 주어질 때 저장된 값을 불러와 효율을 높일 수 있습니다.  </p>\n<p>  예시로 <strong>피보나치 수</strong>의 계산 과정을 한 번 살펴보겠습니다.<br>\n피보나치 수는 다음과 같은 점화식이 성립합니다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">f(n) = f(n - 1) + f(n - 2)</code></pre></div>\n<p>  <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3ae1899bede6eb025d830009659cf7b8/6af66/memoization_fibonacci_overlap.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC4klEQVQoz1WSe0jTURTHvy4pdQ+nqU2naRZpKiXlY4VNo9JqpYRTc/tttpw20h7ispGWPazpDG3NR0S6CinsryhkhoEVUX+lYC+KXkQJUdGk1Ommp6tUFNzPuYf7x+fec86FW61GX8VFqK2T/8Gdc8+ywezB2joPFBa3VHbCk5zXNBFUXDcMygyGsoXQfqQfb0tM+KIrw8vdNQAlM1Q78Em3H9lWwhudEfpmp5fa6uGrbOOiwpbRAIZYbXOJNNYJfyYRljY5Ay4d7gm7aeyKcFTaJQN7zHMpfzM+6itnZHmYZsJh3T5ktREO1j5DpmVasvbUpLzQQsFp1/sQ+ZzD5qtD2FvvAp4Sfmh2BZIAc7Y0ToUrjjsz+vfapCQGj9LBhFnl+KbT+nwtMohvH2gNazlyd9HOs85ArpEEiq7HwSm99qioQUNg2sNi7+d1vhgt0gjf6yp9+VfIR93skmxpp0BV84T0frk1lHJTgek8gx+lr+PDSFh3klYVH3uXTCnw7c4gdhtEq9terUm+/DCR5QLipYEK8oSUAGSYp5LWmz3RIWbCSjPFVpgGE0kt98aYXhGAN/qgmJ6OhJS7FsmKVvKvqnodfeZ8QUjInQ6pxkRhBUYKi35wSMqkPFLohYbqZ5J0K0m3NrgiZQ3EN9YMgZSZItYKHppu8ULjevojFHUkk47Ei2P7bAu2VVNC51FLeLjDvny9ZWRpmu3D8qWOlrhuH8JPXfOc6kOPUgtPfI6R19OyTaddUuJy/b9rS/xmZgHDtZ1xshpayNXSwnTLlyUgnogVy6McpR970UzZQsafHCSvZYFA21fyKSdWQEq5cJzTzhvjtLPDhbq7LFJ5oTU18dqj6GBH57Jae+l8yt4l3thb4SWebeNs+AttqAJJ2J4IVJoGvGaOxzkNQ8t+TD6Q1HYTpifg32iNj3h1dHU4ZXECe1MBXuzjUHRv8W8R7zdsyfbDzXGYZLj/wcMYVanwC2WzS2m2P5FDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"memoization fibonacci overlap\"\n        title=\"memoization fibonacci overlap\"\n        src=\"/static/3ae1899bede6eb025d830009659cf7b8/6af66/memoization_fibonacci_overlap.png\"\n        srcset=\"/static/3ae1899bede6eb025d830009659cf7b8/5a46d/memoization_fibonacci_overlap.png 300w,\n/static/3ae1899bede6eb025d830009659cf7b8/0a47e/memoization_fibonacci_overlap.png 600w,\n/static/3ae1899bede6eb025d830009659cf7b8/6af66/memoization_fibonacci_overlap.png 640w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\n위에서 fibo(4)와 fibo(3)은 여러 번 호출되어 중복으로 계산하는데, 메모제이션을 이용한다면 이 값들을 한 번씩만 계산하여 해결할 수 있습니다.  </p>\n<h2 id=\"-조건-\" style=\"position:relative;\"><a href=\"#-%EC%A1%B0%EA%B1%B4-\" aria-label=\" 조건  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ 조건 ]</h2>\n<p>  그럼 언제 메모이제이션을 사용할 수 있는지 살펴봅시다.  </p>\n<ul>\n<li><strong>인풋이 같을 때 아웃풋이 같다.</strong>  </li>\n</ul>\n<p>  저장된 값을 신뢰하려면 <strong>같은 입력에 대한 출력이 항상 같아야</strong> 합니다. 만약 다른 변수가 작용하여 f(5)가 50이었다가 f(5)가 100이기도 한다면 메모이제이션을 사용할 수 없습니다.   </p>\n<h2 id=\"-방법-\" style=\"position:relative;\"><a href=\"#-%EB%B0%A9%EB%B2%95-\" aria-label=\" 방법  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ 방법 ]</h2>\n<p>  재귀 함수 내부에서 다음과 같이 처리할 수 있습니다.  </p>\n<ol>\n<li>기저 사례 처리  </li>\n<li>memoization 확인  </li>\n<li>부분 문제 수행 후 memozation 기록  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">int</span> <span class=\"token function\">fibo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> number<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>number <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">||</span> number <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// 기저 사례 처리</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>memo<span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>            <span class=\"token comment\">// memoization 확인</span>\n\t\t<span class=\"token keyword\">return</span> memo<span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">int</span> fibo_number <span class=\"token operator\">=</span> <span class=\"token function\">fibo</span><span class=\"token punctuation\">(</span>number <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">fibo</span><span class=\"token punctuation\">(</span>number <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 부분 문제 수행 후 memozation 기록</span>\n\t<span class=\"token keyword\">return</span> fibo_number<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>  물론 처음에 memo의 초기화 과정이 필요합니다. 초기화 값은 계산 결과 값으로 나올 수 없는 값이어야 합니다. 피보나치 수의 경우 자연수만 다루기 때문에 음수인 -1을 초기화 값으로 사용할 수 있습니다.  </p>"},"primaryTag":null},"pageContext":{"postId":"ffd29489-bff9-5cbc-a4a0-c97958734ed1","primaryTag":"algorithm"}},"staticQueryHashes":["1116962356","1994268275","2206391224","2275848304","545095672"]}