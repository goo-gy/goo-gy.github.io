{"componentChunkName":"component---node-modules-nehalist-gatsby-theme-nehalem-src-templates-post-tsx","path":"/2022-02-26-index-tree","result":{"data":{"post":{"id":"5fabf79e-53c0-5adb-9b77-de2c6cfe3850","headings":[{"depth":2},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":3}],"frontmatter":{"title":"인덱스 트리(Index Tree)","path":"/2022-02-26-index-tree","tags":["algorithm","array","tree"],"excerpt":"여러가지 구간 합 알고리즘을 알아보자","created":"2022-02-26T00:00:00.000Z","createdPretty":"26 February, 2022","updated":"2022-02-26T00:00:00.000Z","updatedPretty":"26 February, 2022","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBElEQVQ4y22SX2wUZRTFz+xUWmKf1BdMdktouiSNCn10S023lN3uNCWo2drtUgGfKhQiEhJfMIEXFjBaVCAItS0txKDGGBNDQsIDRgkYQTEBDARC+fvAi6F0oZTveO7OBAhxJjf3zrm/e+ab7xvgmSuZpMIh9T6xjsTbZxyCUZ7KDfPkW6eJAWmv94eMsf97tX5M9AjO/0Yb9jI7GZs3x2CnoJ8b4mDHPg6qjikw72Ui8zljwajz8r8S7/xBebgnhi0bHLpPyPAXonOMyO4iFgaMJRtYW1/HmmU/E0t/IqxuaHC1TeoZY6zN2GzLhqdW27yW6PpGcVhmu9nYvsM1vQTOfiXFKpngzaPOW3aEXn2dg2kvgjXtn7DJWJux2eaByLA+TiwZtAdijfYnOMDLuRHe6b4Wagsy0kbCWJgNt6HnNmFMbtRd7mfImYd5IRgm2nfQK150Pml747qzX7oC6ZA/QX/xdnpd3+qTvw+57t8ZcmKMtbr3PP22rfSye7WPnQccOscrh4FacNZKvb14gXgBrM5FK+s67LD0u5AJxsOeMSvEPq+ZjiGtWAvTwQG5/Sr2urhyKb2ZjS0biVS/Q+smzhdQ0j7VVT5ZZtk9rNOJl1o3ufmp1Q5vfESkt7Cx4yuWMrsYVx8ofqrlD03lg4MzzA6X+wolYvVnoZYbm+GSfeWeVdqf976Qtr9cCA7NMPP1VH5gJ1HYppeMlPuCceOm8oXtMpx96lUc079WWMfkIfC5WRfiqPm7HuNgVfFDJn9Urv4ngepzCfygunc9k2PKxhh7UDO9HzB5XB7mBe9SzSL/bDyNSbzmn0mkvSvVi3A1lvLPJtrwr2lz23Ddb8ZVv7nq9FzTFvh/qjcRSxnr/5VI4544eZgXcBePMK1/YTJG3Fe+r+fJSna4G2nGlBUPIm06Yh4oT0Xaw4iTwMpdVszAGmYS1uWn8rTikcJ4F2kPI70cadbDdfQqVioKuI3lyn24qfrGY60P1/CucqHC3VC+pecJsbc0O4FV4ntUr1Bd/A/TStn36s38OQAAAABJRU5ErkJggg==","aspectRatio":1.4184397163120568,"src":"/static/66287e583fc2d9ffa96b43bfe2e384d5/90823/indexTree.png","srcSet":"/static/66287e583fc2d9ffa96b43bfe2e384d5/dc47e/indexTree.png 200w,\n/static/66287e583fc2d9ffa96b43bfe2e384d5/9f2d5/indexTree.png 400w,\n/static/66287e583fc2d9ffa96b43bfe2e384d5/90823/indexTree.png 800w,\n/static/66287e583fc2d9ffa96b43bfe2e384d5/5137b/indexTree.png 984w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"구간-합-알고리즘\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EA%B0%84-%ED%95%A9-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"구간 합 알고리즘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구간 합 알고리즘</h2>\n<p>인덱스 트리가 해결할 수 있는 가장 대표적인 문제는 구간 합 문제이다. 구간 합을 구하는 전형적인 알고리즘은 다음과 같다.</p>\n<ul>\n<li>구간을 순회하여 더하기</li>\n<li>처음부터 index까지의 합을 저장하는 서브 배열 만들기</li>\n<li>인덱스 트리</li>\n<li>세그먼트 트리</li>\n</ul>\n<hr>\n<h3 id=\"구간을-순회하여-더하기\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EA%B0%84%EC%9D%84-%EC%88%9C%ED%9A%8C%ED%95%98%EC%97%AC-%EB%8D%94%ED%95%98%EA%B8%B0\" aria-label=\"구간을 순회하여 더하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구간을 순회하여 더하기</h3>\n<p>이 방법은 가장 단순한 방법으로 시간복잡도는 <strong>O(N)</strong>이다. 하지만 구간 합을 K번 구해야 한다면 시간복잡도는 <strong>O(K*N)</strong>이 된다.</p>\n<hr>\n<h3 id=\"합을-저장하는-서브-배열-만들기\" style=\"position:relative;\"><a href=\"#%ED%95%A9%EC%9D%84-%EC%A0%80%EC%9E%A5%ED%95%98%EB%8A%94-%EC%84%9C%EB%B8%8C-%EB%B0%B0%EC%97%B4-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"합을 저장하는 서브 배열 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>합을 저장하는 서브 배열 만들기</h3>\n<p>이 방법은 구간 합을 여러 번 구해야 할 때 효율적이다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 758px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dad8fd4850aa2b819f8a8727b90f0826/c8e86/subArray.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAklEQVQoz32Ri07CQBRE51v0L8VCJfqHggnxhVEDXQpIxRaq4rntxWxIIOQwt7PTx85KS9WqwPQLVlDA54H3cSS3dq/0mWHX/Cr4hS3Ujnk/sHFO5Xae1USpct2gPc3V1xQC8wxv2njXzFfKmHNmyx/m9ms5ObYmey6hVo2V6yzylq6LyCtcc1c2LA11phe41bme0BHcMb+6Z2sPMGR+d+8ZvffcGzpAx+gj8DWBPgJvC3QRKDZQeqBb8zK6C+yipYxyhefWUc6u+WtLNv2ODmAbeZVTR17pmY3P+3sp+bIpfaIOPSaU3eW6AynzBf2kzAnvtvXUc93/XMbhZE3ODib5A9Ix+wnsOGptAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"subArray\"\n        title=\"subArray\"\n        src=\"/static/dad8fd4850aa2b819f8a8727b90f0826/c8e86/subArray.png\"\n        srcset=\"/static/dad8fd4850aa2b819f8a8727b90f0826/5a46d/subArray.png 300w,\n/static/dad8fd4850aa2b819f8a8727b90f0826/0a47e/subArray.png 600w,\n/static/dad8fd4850aa2b819f8a8727b90f0826/c8e86/subArray.png 758w\"\n        sizes=\"(max-width: 758px) 100vw, 758px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\n서브 배열을 만들어 처음부터 K의 합을 sub[K]에 저장한다. 그러면 뺼셈 한 번으로 구간 합을 구할 수 있다. 따라서 <strong>O(1)</strong>로 수행할 수 있고, 구간 합을 K번 구할 때의 시간복잡도는 <strong>O(N + K)</strong>가 된다.</p>\n<p>하지만, 배열에 저장된 값이 수시로 업데이트된다면, 업데이트가 일어날 때마다 구간 합을 다시 저장해야 하며 그때마다 <strong>O(N)</strong>의 작업이 필요하다.</p>\n<h2 id=\"인덱스-트리index-tree\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EB%8D%B1%EC%8A%A4-%ED%8A%B8%EB%A6%ACindex-tree\" aria-label=\"인덱스 트리index tree permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인덱스 트리(Index Tree)</h2>\n<p>인덱스 트리는 처음 트리를 구성할 때 <strong>O(N)</strong>의 작업이 필요하다. 그러면 이후에 데이터를 조회할 때도 <strong>O(log N)</strong> 만에 수행할 수 있고, 배열의 데이터가 수정되어도 <strong>O(log N)</strong>만에 트리를 업데이트할 수 있다. 따라서 앞에서처럼 데이터가 자주 업데이트되는 경우에 유용하게 사용할 수 있다. 인덱스 트리는 구간 합이 아닌 구간 Max, Min 등 다양한 목적으로도 사용할 수 있다.</p>\n<hr>\n<h3 id=\"구현\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84\" aria-label=\"구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구현</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 984px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66287e583fc2d9ffa96b43bfe2e384d5/0b6f4/indexTree.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBElEQVQ4y22SX2wUZRTFz+xUWmKf1BdMdktouiSNCn10S023lN3uNCWo2drtUgGfKhQiEhJfMIEXFjBaVCAItS0txKDGGBNDQsIDRgkYQTEBDARC+fvAi6F0oZTveO7OBAhxJjf3zrm/e+ab7xvgmSuZpMIh9T6xjsTbZxyCUZ7KDfPkW6eJAWmv94eMsf97tX5M9AjO/0Yb9jI7GZs3x2CnoJ8b4mDHPg6qjikw72Ui8zljwajz8r8S7/xBebgnhi0bHLpPyPAXonOMyO4iFgaMJRtYW1/HmmU/E0t/IqxuaHC1TeoZY6zN2GzLhqdW27yW6PpGcVhmu9nYvsM1vQTOfiXFKpngzaPOW3aEXn2dg2kvgjXtn7DJWJux2eaByLA+TiwZtAdijfYnOMDLuRHe6b4Wagsy0kbCWJgNt6HnNmFMbtRd7mfImYd5IRgm2nfQK150Pml747qzX7oC6ZA/QX/xdnpd3+qTvw+57t8ZcmKMtbr3PP22rfSye7WPnQccOscrh4FacNZKvb14gXgBrM5FK+s67LD0u5AJxsOeMSvEPq+ZjiGtWAvTwQG5/Sr2urhyKb2ZjS0biVS/Q+smzhdQ0j7VVT5ZZtk9rNOJl1o3ufmp1Q5vfESkt7Cx4yuWMrsYVx8ofqrlD03lg4MzzA6X+wolYvVnoZYbm+GSfeWeVdqf976Qtr9cCA7NMPP1VH5gJ1HYppeMlPuCceOm8oXtMpx96lUc079WWMfkIfC5WRfiqPm7HuNgVfFDJn9Urv4ngepzCfygunc9k2PKxhh7UDO9HzB5XB7mBe9SzSL/bDyNSbzmn0mkvSvVi3A1lvLPJtrwr2lz23Ddb8ZVv7nq9FzTFvh/qjcRSxnr/5VI4544eZgXcBePMK1/YTJG3Fe+r+fJSna4G2nGlBUPIm06Yh4oT0Xaw4iTwMpdVszAGmYS1uWn8rTikcJ4F2kPI70cadbDdfQqVioKuI3lyn24qfrGY60P1/CucqHC3VC+pecJsbc0O4FV4ntUr1Bd/A/TStn36s38OQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"indexTree\"\n        title=\"indexTree\"\n        src=\"/static/66287e583fc2d9ffa96b43bfe2e384d5/0b6f4/indexTree.png\"\n        srcset=\"/static/66287e583fc2d9ffa96b43bfe2e384d5/5a46d/indexTree.png 300w,\n/static/66287e583fc2d9ffa96b43bfe2e384d5/0a47e/indexTree.png 600w,\n/static/66287e583fc2d9ffa96b43bfe2e384d5/0b6f4/indexTree.png 984w\"\n        sizes=\"(max-width: 984px) 100vw, 984px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>구간 합을 위한 인덱스 트리는 인접한 두 노드의 합을 부모 노드에 저장하여 트리를 구성한다. 인덱스 트리는 일반적으로 완전 이진 트리를 이용해 구현한다.</p>\n<hr>\n<h3 id=\"구간-합-구하기\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EA%B0%84-%ED%95%A9-%EA%B5%AC%ED%95%98%EA%B8%B0\" aria-label=\"구간 합 구하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구간 합 구하기</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 867px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/79d5b858abbdc169062d3867abce5c49/264eb/indexTreeGetSum.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVQ4y21SC1BUZRT+7t3lsSySQ0I1YzHruIs8bIyFZlhmhB64u6Khqeg0TdNAIAslLUMkNPTQsSLpJYOYstqKA2NORDnEiJaVE6NQgUk10vQYAslXgabL7oX79d+L1kzTf+fcc+73f+f853z3B/6zrFbqlr6eWPUJ5fxuYrmfR9x7eeYoibQsYmkNYbPN2v+updXEapG4+mORvI/SskbKqQ6NrGKGKtw+vuXysTUeaoTlDsKLsxh5rUOmzy9RHKLbpmf+LbjEJbo5LAp2qcjzE86dhKOMknUhzdaFatS6fiL/iAqLORSRlBiaU+Uelse2vw/u9Qs7gGmtYK4T//SbnE7k7SdWHBDFGpmQ28DUeNCUbFfDEhcoKP52QvL6BqTyyHZgDWWAkeObdyZx6ytJrK3Wi15zrhXz6It48HXisUlKa0+rQi+1z+1nUIwrZWSHUOjqlaizgEvmBCOTIsNFHD69v2OU7Z1/iHgub4kCn6zQeXDtJh54lSjoo2GLaH3ZDnWDcxc98/CpxOGDhnkCC8wWNE+ab43+LiffrGk28Xb745ON75V24vbonzOzo24eqgmOvFbCvY+QwbAazsB5St+OnDp0bFZwkylmJNYS9mzd53hkx+/aXjj5JjhySI8FCTlfEKlfijzXLqFbE2PdLWrNfS/x7rn11E86UdKeoLzT9jw3eReTF7G++DiWN4biBK82p05NxtOCFdGD0tI+S8W2r7Zuq/lgwXZvG7ChgcjdfS13RdsMH/JNe5MbFCwRGgVfqCtQPuzhVPOep9j6NeLeEHK0BPLy2qfp9AU35rcQzeWXUVn/WcG6d//kcy92V2qdIub4vTgJGh1beA9cjPJroDamwFhxOEP4ORlDtwH9KWgSkjxcy7Qi0Gz6xo74Exb8BkbUl/yaIS5QDDgMhP0QYcfgfMfLH2FRoPpg1qXKzfen90bbMZDowGXYcMqaafglzI6fZLux15aFK7DJ/XdmSmdN6YYfBT5gc8wfgm1V813Zj7aYcmCcNEyJdoJVgysVdg4oV7q7QimjcUEoCBqvygqmEMRf4q09IS0WmKJjwZtY/LikRE9ACQ+IL5Gkz1d1ZiXZNcSrR3uYMh6nY/J1cbUUaPeGgkrMCLsuTL2BKbNY7EXxqwM39o2jcpEYzVN9LOcJNnV4LuxpKlv8fWwhLqBMPgfNl2AMG4UvxDl4MC78efE9hmLpPIpEXGY7jaK0kyhPGYTnbx8C48gZhA3iAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"indexTreeGetSum\"\n        title=\"indexTreeGetSum\"\n        src=\"/static/79d5b858abbdc169062d3867abce5c49/264eb/indexTreeGetSum.png\"\n        srcset=\"/static/79d5b858abbdc169062d3867abce5c49/5a46d/indexTreeGetSum.png 300w,\n/static/79d5b858abbdc169062d3867abce5c49/0a47e/indexTreeGetSum.png 600w,\n/static/79d5b858abbdc169062d3867abce5c49/264eb/indexTreeGetSum.png 867w\"\n        sizes=\"(max-width: 867px) 100vw, 867px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>left, right를 구간의 시작 노드, 끝 노드로 설정한다.</strong></li>\n<li><strong>left는 오른쪽 위 노드를, right는 왼쪽 위 노드를 next로 설정한다.</strong></li>\n<li><strong>각각의 next가 부모 노드가 아니라면 현재 노드 value를 sum에 더한다.</strong></li>\n<li><strong>left, right를 각각의 next로 이동한다.</strong></li>\n<li><strong>left >= right일 때까지 2,3,4를 반복한다.</strong></li>\n<li><strong>left == right라면 해당 노드도 sum에 더한다.</strong></li>\n</ol>\n<hr>\n<h3 id=\"데이터-업데이트\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\" aria-label=\"데이터 업데이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 업데이트</h3>\n<p>배열의 데이터가 수정이 일어나면 모든 트리를 수정할 필요 없이 자신과 연결된 조상 노드들만 업데이트해 주면 된다. 따라서 업데이트도 <strong>O(log N)</strong> 만에 수행할 수 있다.</p>\n<h2 id=\"code\" style=\"position:relative;\"><a href=\"#code\" aria-label=\"code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Code</h2>\n<p>Index tree를 문제를 풀기 위해 만들어 둔 code snippet을 가져왔다. Index tree를 쓰는 것만으로도 code 규모가 꽤나 크고, 정형화된 변수와 로직이 있기 때문에 class로 제작하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;vector></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">IndexTree</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> leafLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> treeSize<span class=\"token punctuation\">;</span>\n    vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span><span class=\"token operator\">></span> v_tree<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">IndexTree</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> N<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>leafLeft <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> leafLeft <span class=\"token operator\">&lt;</span> N<span class=\"token punctuation\">;</span> leafLeft <span class=\"token operator\">*=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">;</span>\n        treeSize <span class=\"token operator\">=</span> leafLeft <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        v_tree<span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span>treeSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> <span class=\"token function\">logicFun</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> num1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> num2<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// TODO : set logic</span>\n        <span class=\"token keyword\">return</span> num1 <span class=\"token operator\">+</span> num2<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">void</span> <span class=\"token function\">updateTree</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> index<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        v_tree<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">logicFun</span><span class=\"token punctuation\">(</span>v_tree<span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token operator\">*</span> index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> v_tree<span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token operator\">*</span> index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">updateTree</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">void</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> order<span class=\"token punctuation\">,</span> <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> index <span class=\"token operator\">=</span> leafLeft <span class=\"token operator\">+</span> order <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        v_tree<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">updateTree</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> begin<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> end<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> L <span class=\"token operator\">=</span> leafLeft <span class=\"token operator\">+</span> begin <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> R <span class=\"token operator\">=</span> leafLeft <span class=\"token operator\">+</span> end <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// TODO: set initial</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> result <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>L <span class=\"token operator\">&lt;</span> R<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> nextL <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>L <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">int</span> nextR <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>R <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nextL <span class=\"token operator\">!=</span> L <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n                result <span class=\"token operator\">=</span> <span class=\"token function\">logicFun</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> v_tree<span class=\"token punctuation\">[</span>L<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nextR <span class=\"token operator\">!=</span> R <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n                result <span class=\"token operator\">=</span> <span class=\"token function\">logicFun</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> v_tree<span class=\"token punctuation\">[</span>R<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            L <span class=\"token operator\">=</span> nextL<span class=\"token punctuation\">;</span>\n            R <span class=\"token operator\">=</span> nextR<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>L <span class=\"token operator\">==</span> R<span class=\"token punctuation\">)</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">logicFun</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> v_tree<span class=\"token punctuation\">[</span>L<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h3 id=\"문제풀이\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4\" aria-label=\"문제풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제풀이</h3>\n<ul>\n<li><a href=\"https://www.acmicpc.net/problem/2243\">백준 2243: 사탕상자</a><br>\n코드: <a href=\"https://github.com/goo-gy/Algorithm/blob/master/baekjoon/2243_indexTree.cpp\">https://github.com/goo-gy/Algorithm/blob/master/baekjoon/2243_indexTree.cpp</a></li>\n<li><a href=\"https://www.acmicpc.net/problem/2517\">백준 2517: 달리기</a><br>\n코드 : <a href=\"https://github.com/goo-gy/Algorithm/blob/master/baekjoon/2517_indexTree.cpp\">https://github.com/goo-gy/Algorithm/blob/master/baekjoon/2517_indexTree.cpp</a></li>\n</ul>"},"primaryTag":null},"pageContext":{"postId":"5fabf79e-53c0-5adb-9b77-de2c6cfe3850","primaryTag":"algorithm"}},"staticQueryHashes":["1116962356","1994268275","2206391224","2275848304","545095672"]}